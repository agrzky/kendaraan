(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[247],{469:function(e,a,r){Promise.resolve().then(r.bind(r,28033)),Promise.resolve().then(r.bind(r,64715)),Promise.resolve().then(r.bind(r,69333))},35974:function(e,a,r){"use strict";r.d(a,{C:function(){return d}});var t=r(57437);r(2265);var s=r(37053),l=r(90535),i=r(94508);let n=(0,l.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d(e){let{className:a,variant:r,asChild:l=!1,...d}=e,c=l?s.g7:"span";return(0,t.jsx)(c,{"data-slot":"badge",className:(0,i.cn)(n({variant:r}),a),...d})}},73578:function(e,a,r){"use strict";r.d(a,{RM:function(){return n},SC:function(){return d},iA:function(){return l},pj:function(){return o},ss:function(){return c},xD:function(){return i}});var t=r(57437);r(2265);var s=r(94508);function l(e){let{className:a,...r}=e;return(0,t.jsx)("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:(0,t.jsx)("table",{"data-slot":"table",className:(0,s.cn)("w-full caption-bottom text-sm",a),...r})})}function i(e){let{className:a,...r}=e;return(0,t.jsx)("thead",{"data-slot":"table-header",className:(0,s.cn)("[&_tr]:border-b",a),...r})}function n(e){let{className:a,...r}=e;return(0,t.jsx)("tbody",{"data-slot":"table-body",className:(0,s.cn)("[&_tr:last-child]:border-0",a),...r})}function d(e){let{className:a,...r}=e;return(0,t.jsx)("tr",{"data-slot":"table-row",className:(0,s.cn)("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",a),...r})}function c(e){let{className:a,...r}=e;return(0,t.jsx)("th",{"data-slot":"table-head",className:(0,s.cn)("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...r})}function o(e){let{className:a,...r}=e;return(0,t.jsx)("td",{"data-slot":"table-cell",className:(0,s.cn)("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",a),...r})}},69333:function(e,a,r){"use strict";r.d(a,{VehicleManagement:function(){return k}});var t=r(57437),s=r(2265),l=r(14438),i=r(62869),n=r(95186),d=r(26815),c=r(66070),o=r(26110),x=r(35299),u=r(53647),h=r(73578),m=r(35974),g=r(99397),b=r(73247),p=r(96215),v=r(57662);let f=(0,r(79205).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);var j=r(18930);let y=e=>{if(null==e||Number.isNaN(e))return"-";try{return"".concat(e.toLocaleString("id-ID")," km")}catch(a){return"".concat(e," km")}},N=e=>{if(!e)return"";try{return new Date(e).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch(e){return""}},w=e=>{if(!e)return{label:"Belum diisi",color:"bg-gray-100 text-gray-800"};let a=new Date,r=Math.floor((new Date(e).getTime()-a.getTime())/864e5);return r<0?{label:"Expired",color:"bg-red-100 text-red-800"}:r<=30?{label:"Akan Expired",color:"bg-yellow-100 text-yellow-800"}:{label:"Aktif",color:"bg-green-100 text-green-800"}};function k(){let[e,a]=(0,s.useState)([]),[r,k]=(0,s.useState)(!0),[S,K]=(0,s.useState)(""),[C,D]=(0,s.useState)(!1),[P,E]=(0,s.useState)(null),[T,A]=(0,s.useState)(null),[I,M]=(0,s.useState)(!1),[_,Z]=(0,s.useState)({licensePlate:"",brand:"",model:"",year:"",type:"",status:"active",lastService:"",nextService:"",lastServiceKm:"",nextServiceKm:"",taxExpireDate:""});(0,s.useEffect)(()=>{F()},[]);let F=async()=>{try{k(!0);let e=await fetch("/api/vehicles"),r=await e.json();if(r.success){let e=r.vehicles.map(e=>({id:e.id,licensePlate:e.licensePlate,brand:e.brand,model:e.model,year:e.year,type:e.fuelType||"MPV",status:e.status,lastService:e.lastServiceDate?new Date(e.lastServiceDate).toISOString().split("T")[0]:"",nextService:e.nextServiceDate?new Date(e.nextServiceDate).toISOString().split("T")[0]:"",lastServiceKm:e.lastServiceKm||0,nextServiceKm:e.nextServiceKm||0,taxExpireDate:e.taxExpireDate?new Date(e.taxExpireDate).toISOString().split("T")[0]:""}));a(e)}}catch(e){console.error("Error fetching vehicles:",e)}finally{k(!1)}},O=e.filter(e=>e.licensePlate.toLowerCase().includes(S.toLowerCase())||e.brand.toLowerCase().includes(S.toLowerCase())||e.model.toLowerCase().includes(S.toLowerCase())),z=()=>{Z({licensePlate:"",brand:"",model:"",year:"",type:"",status:"active",lastService:"",nextService:"",lastServiceKm:"",nextServiceKm:"",taxExpireDate:""})},B=async e=>{e.preventDefault();let a=Number.parseInt(_.year,10),r=_.lastServiceKm?Number.parseInt(_.lastServiceKm,10):void 0,t=_.nextServiceKm?Number.parseInt(_.nextServiceKm,10):void 0;if(Number.isNaN(a)||a<1990||a>new Date().getFullYear()+1){alert("Tahun kendaraan tidak valid");return}if(void 0!==r&&(Number.isNaN(r)||r<0)){alert("Kilometer servis terakhir tidak valid");return}if(void 0!==t&&(Number.isNaN(t)||t<0)){alert("Kilometer servis berikutnya tidak valid");return}try{if(P)(await fetch("/api/vehicles/".concat(P.id),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({licensePlate:_.licensePlate,brand:_.brand,model:_.model,year:a,fuelType:_.type,status:_.status,lastServiceDate:_.lastService,nextServiceDate:_.nextService,lastServiceKm:r,nextServiceKm:t,taxExpireDate:_.taxExpireDate})})).ok?(await F(),E(null),l.A.success("Kendaraan berhasil diupdate!")):l.A.error("Gagal mengupdate kendaraan");else{let e="";try{let a=localStorage.getItem("user");a&&(e=JSON.parse(a).id)}catch(e){console.error("Error getting user from localStorage:",e)}if(!e){try{let a=await fetch("/api/auth/me");if(a.ok){let r=await a.json();r.authenticated&&r.user&&(e=r.user.id,localStorage.setItem("user",JSON.stringify(r.user)))}}catch(e){console.error("Error fetching user from API:",e)}if(!e){l.A.error("Sesi tidak valid",{description:"Silakan login ulang untuk menambah kendaraan."}),D(!1);return}}let s=await fetch("/api/vehicles",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({..._,year:a,lastServiceKm:r,nextServiceKm:t,ownerId:e})}),i=await s.json();s.ok?(await F(),l.A.success("Kendaraan berhasil ditambahkan!",{description:"".concat(_.brand," ").concat(_.model," - ").concat(_.licensePlate)})):(console.error("API Error:",i),l.A.error("Gagal menambah kendaraan",{description:i.details||i.error||"Terjadi kesalahan"}))}z(),D(!1)}catch(e){console.error("Error saving vehicle:",e),l.A.error("Terjadi kesalahan saat menyimpan data")}},L=e=>{var a,r,t,s,l;E(e),Z({licensePlate:e.licensePlate,brand:e.brand,model:e.model,year:e.year.toString(),type:e.type,status:e.status,lastService:e.lastService,nextService:e.nextService,lastServiceKm:null!==(t=null===(a=e.lastServiceKm)||void 0===a?void 0:a.toString())&&void 0!==t?t:"",nextServiceKm:null!==(s=null===(r=e.nextServiceKm)||void 0===r?void 0:r.toString())&&void 0!==s?s:"",taxExpireDate:null!==(l=e.taxExpireDate)&&void 0!==l?l:""}),D(!0)},q=e=>{A(e)},Q=async()=>{if(T){M(!0);try{(await fetch("/api/vehicles/".concat(T.id),{method:"DELETE"})).ok?(await F(),l.A.success("Kendaraan berhasil dihapus",{description:"".concat(T.brand," ").concat(T.model," - ").concat(T.licensePlate)})):l.A.error("Gagal menghapus kendaraan")}catch(e){console.error("Error deleting vehicle:",e),l.A.error("Terjadi kesalahan saat menghapus data")}finally{M(!1),A(null)}}};return(0,t.jsxs)("div",{className:"space-y-8",children:[(0,t.jsxs)("div",{className:"relative overflow-hidden rounded-[2.5rem] bg-gradient-to-br from-blue-600/90 to-indigo-600/90 backdrop-blur-xl p-8 text-white shadow-2xl shadow-blue-500/30 border border-white/20",children:[(0,t.jsx)("div",{className:"absolute inset-0 bg-[url('https://grainy-gradients.vercel.app/noise.svg')] opacity-20 mix-blend-overlay"}),(0,t.jsx)("div",{className:"absolute -top-24 -right-24 w-64 h-64 bg-white/20 rounded-full blur-3xl animate-pulse"}),(0,t.jsxs)("div",{className:"relative z-10 flex flex-col sm:flex-row items-start sm:items-center justify-between gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2 tracking-tight",children:"Data Kendaraan"}),(0,t.jsx)("p",{className:"text-blue-100/80 text-lg font-medium",children:"Kelola data kendaraan operasional dengan mudah"})]}),(0,t.jsxs)(o.Vq,{open:C,onOpenChange:D,children:[(0,t.jsx)(o.hg,{asChild:!0,children:(0,t.jsxs)(i.z,{className:"bg-white/20 text-white hover:bg-white/30 border border-gray-100 shadow-xl backdrop-blur-sm transition-all duration-300 hover:scale-105 rounded-xl h-12 px-6",size:"lg",onClick:()=>{z(),E(null)},children:[(0,t.jsx)(g.Z,{className:"w-5 h-5 mr-2"}),"Tambah Kendaraan"]})}),(0,t.jsxs)(o.cZ,{className:"max-w-md border-0 shadow-2xl bg-white/90 backdrop-blur-2xl rounded-[2rem]",children:[(0,t.jsxs)(o.fK,{children:[(0,t.jsx)(o.$N,{className:"text-xl font-bold text-gray-900",children:P?"Edit Kendaraan":"Tambah Kendaraan Baru"}),(0,t.jsx)(o.Be,{className:"text-gray-600",children:P?"Ubah data kendaraan":"Masukkan data kendaraan baru"})]}),(0,t.jsxs)("form",{onSubmit:B,className:"space-y-5 max-h-[70vh] overflow-y-auto pr-2 custom-scrollbar",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"licensePlate",className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Nomor Polisi"}),(0,t.jsx)(n.I,{id:"licensePlate",value:_.licensePlate,onChange:e=>Z({..._,licensePlate:e.target.value}),placeholder:"B 1234 CD",className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50",required:!0})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"brand",className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Merek"}),(0,t.jsx)(n.I,{id:"brand",value:_.brand,onChange:e=>Z({..._,brand:e.target.value}),placeholder:"Toyota",className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"model",className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Model"}),(0,t.jsx)(n.I,{id:"model",value:_.model,onChange:e=>Z({..._,model:e.target.value}),placeholder:"Avanza",className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50",required:!0})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"year",className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Tahun"}),(0,t.jsx)(n.I,{id:"year",type:"number",value:_.year,onChange:e=>Z({..._,year:e.target.value}),placeholder:"2020",min:"1990",max:new Date().getFullYear()+1,className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50",required:!0})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"type",className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Jenis"}),(0,t.jsxs)(u.Ph,{value:_.type,onValueChange:e=>Z({..._,type:e}),children:[(0,t.jsx)(u.i4,{className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50",children:(0,t.jsx)(u.ki,{placeholder:"Pilih jenis"})}),(0,t.jsxs)(u.Bw,{children:[(0,t.jsx)(u.Ql,{value:"MPV",children:"MPV"}),(0,t.jsx)(u.Ql,{value:"Pickup",children:"Pickup"}),(0,t.jsx)(u.Ql,{value:"Ambulan",children:"Ambulan"}),(0,t.jsx)(u.Ql,{value:"Elf",children:"Elf"}),(0,t.jsx)(u.Ql,{value:"Motor",children:"Motor"})]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"status",className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),(0,t.jsxs)(u.Ph,{value:_.status,onValueChange:e=>Z({..._,status:e}),children:[(0,t.jsx)(u.i4,{className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50",children:(0,t.jsx)(u.ki,{})}),(0,t.jsxs)(u.Bw,{children:[(0,t.jsx)(u.Ql,{value:"active",children:"Aktif"}),(0,t.jsx)(u.Ql,{value:"maintenance",children:"Maintenance"}),(0,t.jsx)(u.Ql,{value:"inactive",children:"Tidak Aktif"})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"lastService",className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Servis Terakhir"}),(0,t.jsx)(n.I,{id:"lastService",type:"date",value:_.lastService,onChange:e=>Z({..._,lastService:e.target.value}),className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50"}),(0,t.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,t.jsx)(d._,{htmlFor:"lastServiceKm",className:"text-xs text-gray-500",children:"Kilometer (km)"}),(0,t.jsx)(n.I,{id:"lastServiceKm",type:"number",inputMode:"numeric",min:"0",placeholder:"25000",value:_.lastServiceKm,onChange:e=>Z({..._,lastServiceKm:e.target.value}),className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50"})]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"nextService",className:"text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Servis Berikutnya"}),(0,t.jsx)(n.I,{id:"nextService",type:"date",value:_.nextService,onChange:e=>Z({..._,nextService:e.target.value}),className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50"}),(0,t.jsxs)("div",{className:"space-y-2 mt-2",children:[(0,t.jsx)(d._,{htmlFor:"nextServiceKm",className:"text-xs text-gray-500",children:"Kilometer (km)"}),(0,t.jsx)(n.I,{id:"nextServiceKm",type:"number",inputMode:"numeric",min:"0",placeholder:"30000",value:_.nextServiceKm,onChange:e=>Z({..._,nextServiceKm:e.target.value}),className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50"})]})]})]}),(0,t.jsxs)("div",{className:"pt-2 border-t border-gray-100",children:[(0,t.jsx)("h3",{className:"text-sm font-bold text-gray-900 mb-3 uppercase tracking-wider",children:"Pajak Kendaraan"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d._,{htmlFor:"taxExpireDate",className:"text-xs font-semibold text-gray-500",children:"Berlaku Hingga"}),(0,t.jsx)(n.I,{id:"taxExpireDate",type:"date",value:_.taxExpireDate,onChange:e=>Z({..._,taxExpireDate:e.target.value}),className:"rounded-xl border-gray-200 focus:border-blue-500 focus:ring-blue-500/20 bg-white/50"})]})]}),(0,t.jsxs)("div",{className:"flex gap-3 pt-4",children:[(0,t.jsx)(i.z,{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white rounded-xl h-11 shadow-lg shadow-blue-500/25",children:P?"Update Data":"Simpan Data"}),(0,t.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>D(!1),className:"flex-1 rounded-xl h-11 border-gray-200 hover:bg-gray-50",children:"Batal"})]})]})]})]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,t.jsx)("div",{className:"lg:col-span-2",children:(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsx)(b.Z,{className:"absolute left-4 top-4 h-5 w-5 text-gray-400 group-focus-within:text-blue-500 transition-colors"}),(0,t.jsx)(n.I,{placeholder:"Cari berdasarkan nomor polisi, merek, atau model...",value:S,onChange:e=>K(e.target.value),className:"pl-12 h-14 border-0 bg-white rounded-2xl shadow-sm focus:ring-2 focus:ring-blue-500/20 transition-all text-base"})]})}),(0,t.jsx)(c.Zb,{className:"border-0 shadow-lg bg-white rounded-[2rem] hover:-translate-y-1 transition-all duration-300",children:(0,t.jsx)(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Total"}),(0,t.jsx)("p",{className:"text-3xl font-extrabold text-blue-900 mt-1",children:e.length})]}),(0,t.jsx)("div",{className:"p-3 bg-blue-100 rounded-2xl",children:(0,t.jsx)(p.Z,{className:"h-6 w-6 text-blue-600"})})]})})}),(0,t.jsx)(c.Zb,{className:"border-0 shadow-lg bg-white rounded-[2rem] hover:-translate-y-1 transition-all duration-300",children:(0,t.jsx)(c.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-bold text-gray-500 uppercase tracking-wider",children:"Aktif"}),(0,t.jsx)("p",{className:"text-3xl font-extrabold text-green-900 mt-1",children:e.filter(e=>"active"===e.status).length})]}),(0,t.jsx)("div",{className:"p-3 bg-green-100 rounded-2xl",children:(0,t.jsx)(v.Z,{className:"h-6 w-6 text-green-600"})})]})})})]}),(0,t.jsxs)(c.Zb,{className:"border-0 shadow-xl bg-white rounded-[2.5rem] overflow-hidden",children:[(0,t.jsx)(c.Ol,{className:"bg-white/40 border-b border-gray-100 backdrop-blur-md px-8 py-6",children:(0,t.jsxs)(c.ll,{className:"flex items-center gap-4 text-xl font-bold text-gray-900",children:[(0,t.jsx)("div",{className:"p-3 bg-gradient-to-br from-blue-500 to-indigo-600 rounded-xl shadow-lg shadow-blue-500/20",children:(0,t.jsx)(v.Z,{className:"w-5 h-5 text-white"})}),"Daftar Kendaraan",(0,t.jsxs)(m.C,{variant:"secondary",className:"ml-auto bg-white/50 text-gray-600 backdrop-blur-sm border border-white/50 px-4 py-1.5 rounded-full text-sm",children:[O.length," unit"]})]})}),(0,t.jsxs)(c.aY,{className:"p-0",children:[(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)(h.iA,{children:[(0,t.jsx)(h.xD,{children:(0,t.jsxs)(h.SC,{className:"bg-gray-50/50 hover:bg-gray-50/50 border-gray-100",children:[(0,t.jsx)(h.ss,{className:"font-bold text-gray-500 uppercase tracking-wider text-xs pl-8 py-5",children:"Nomor Polisi"}),(0,t.jsx)(h.ss,{className:"font-bold text-gray-500 uppercase tracking-wider text-xs py-5",children:"Kendaraan"}),(0,t.jsx)(h.ss,{className:"font-bold text-gray-500 uppercase tracking-wider text-xs py-5",children:"Jenis"}),(0,t.jsx)(h.ss,{className:"font-bold text-gray-500 uppercase tracking-wider text-xs py-5",children:"Status"}),(0,t.jsx)(h.ss,{className:"font-bold text-gray-500 uppercase tracking-wider text-xs py-5",children:"Servis Terakhir"}),(0,t.jsx)(h.ss,{className:"font-bold text-gray-500 uppercase tracking-wider text-xs py-5",children:"Servis Berikutnya"}),(0,t.jsx)(h.ss,{className:"font-bold text-gray-500 uppercase tracking-wider text-xs py-5",children:"Pajak"}),(0,t.jsx)(h.ss,{className:"text-right font-bold text-gray-500 uppercase tracking-wider text-xs pr-8 py-5",children:"Aksi"})]})}),(0,t.jsx)(h.RM,{children:O.map((e,a)=>{let r=w(e.taxExpireDate);return(0,t.jsxs)("tr",{className:"hover:bg-blue-50/50 transition-all duration-200 group border-b border-gray-100 last:border-0 relative",children:[(0,t.jsx)(h.pj,{className:"font-bold text-blue-900 pl-8",children:(0,t.jsx)("div",{className:"py-2 px-3 bg-blue-50 rounded-lg w-fit",children:e.licensePlate})}),(0,t.jsx)(h.pj,{children:(0,t.jsxs)("div",{children:[(0,t.jsxs)("p",{className:"font-bold text-gray-900 group-hover:text-blue-700 transition-colors duration-200",children:[e.brand," ",e.model]}),(0,t.jsx)("p",{className:"text-xs font-medium text-gray-500 mt-0.5",children:e.year})]})}),(0,t.jsx)(h.pj,{children:(0,t.jsx)(m.C,{variant:"outline",className:"font-semibold bg-white border-gray-200",children:e.type})}),(0,t.jsx)(h.pj,{children:function(e){switch(e){case"active":return(0,t.jsx)(m.C,{className:"bg-green-100 text-green-800",children:"Aktif"});case"maintenance":return(0,t.jsx)(m.C,{className:"bg-yellow-100 text-yellow-800",children:"Maintenance"});case"inactive":return(0,t.jsx)(m.C,{className:"bg-red-100 text-red-800",children:"Tidak Aktif"});default:return(0,t.jsx)(m.C,{children:"Unknown"})}}(e.status)}),(0,t.jsx)(h.pj,{className:"text-gray-700",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-bold text-gray-900",children:N(e.lastService)||"-"}),(0,t.jsx)("span",{className:"text-xs font-medium text-gray-500",children:y(e.lastServiceKm)})]})}),(0,t.jsx)(h.pj,{className:"text-gray-700",children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)("span",{className:"font-bold text-gray-900",children:N(e.nextService)||"-"}),(0,t.jsx)("span",{className:"text-xs font-medium text-gray-500",children:y(e.nextServiceKm)})]})}),(0,t.jsx)(h.pj,{children:(0,t.jsxs)("div",{className:"flex flex-col",children:[(0,t.jsx)(m.C,{className:"".concat(r.color," font-bold mb-1 w-fit"),children:r.label}),e.taxExpireDate&&(0,t.jsx)("span",{className:"text-xs text-gray-500 font-medium",children:e.taxExpireDate})]})}),(0,t.jsx)(h.pj,{className:"text-right pr-8",children:(0,t.jsxs)("div",{className:"flex gap-2 justify-end",children:[(0,t.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>L(e),className:"bg-blue-50 text-blue-600 hover:text-blue-700 hover:bg-blue-100 rounded-lg w-8 h-8 p-0",children:(0,t.jsx)(f,{className:"w-4 h-4"})}),(0,t.jsx)(i.z,{variant:"ghost",size:"sm",onClick:()=>q(e),className:"bg-red-50 text-red-600 hover:text-red-700 hover:bg-red-100 rounded-lg w-8 h-8 p-0",children:(0,t.jsx)(j.Z,{className:"w-4 h-4"})})]})})]},e.id)})})]})}),0===O.length&&(0,t.jsxs)("div",{className:"text-center py-12",children:[(0,t.jsx)(v.Z,{className:"h-12 w-12 text-gray-300 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-500 text-lg",children:S?"Tidak ada kendaraan yang ditemukan":"Belum ada data kendaraan"})]})]})]}),(0,t.jsx)(x.aR,{open:!!T,onOpenChange:()=>!I&&A(null),children:(0,t.jsxs)(x._T,{className:"rounded-2xl border-0 shadow-2xl",children:[(0,t.jsxs)(x.fY,{children:[(0,t.jsx)(x.f$,{className:"text-xl font-bold text-gray-900",children:"Hapus Kendaraan?"}),(0,t.jsxs)(x.yT,{className:"text-gray-600",children:["Apakah Anda yakin ingin menghapus kendaraan"," ",(0,t.jsxs)("span",{className:"font-bold text-gray-900",children:[null==T?void 0:T.brand," ",null==T?void 0:T.model," -"," ",null==T?void 0:T.licensePlate]}),"? Tindakan ini tidak dapat dibatalkan dan semua data terkait akan dihapus secara permanen."]})]}),(0,t.jsxs)(x.xo,{className:"gap-3",children:[(0,t.jsx)(x.le,{disabled:I,className:"rounded-xl border-gray-200 hover:bg-gray-50",children:"Batal"}),(0,t.jsx)(x.OL,{onClick:Q,disabled:I,className:"rounded-xl bg-red-600 hover:bg-red-700 text-white",children:I?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 border-2 border-white/30 border-t-white rounded-full animate-spin mr-2"}),"Menghapus..."]}):"Ya, Hapus"})]})]})})]})}},99397:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},73247:function(e,a,r){"use strict";r.d(a,{Z:function(){return t}});let t=(0,r(79205).Z)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])}},function(e){e.O(0,[135,365,438,508,657,175,971,117,744],function(){return e(e.s=469)}),_N_E=e.O()}]);